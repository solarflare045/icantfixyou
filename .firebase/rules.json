{
  "rules": {
    ".read": "true || root.child('objects').child(auth.uid).child('admin').val() === true",
    ".write": "root.child('objects').child(auth.uid).child('admin').val() === true",
    
    "objects": {
      ".indexOn": ["game", "type"],
      "$object": {
        ".read": "$object === auth.uid || data.child('game').val() === root.child('objects').child(auth.uid).child('game').val()",
          
        "name": { ".validate": "newData.isString()" },
        "type": { ".validate": "newData.val() === 'location' || newData.val() === 'user'" },
        "game": {
          ".validate": "root.child('games').child(newData.val()).exists()"
        },
          
        "admin": { ".validate": "newData.isBoolean()" },
        "target": { ".validate": "!newData.exists() || root.child('objects').child(newData.val()).child('game').val() === root.child('objects').child(auth.uid).child('game').val()" }
      }
    },
      
    "games": {},
      
    "ailments": {
      ".indexOn": "object",
      "$ailment": {
        ".read": true,
          
      	"object": { ".validate": "root.child('objects').child(newData.val()).exists()" }
      }
    },
      
    "events": {
      ".indexOn": "game",
      "$event": {
        ".read": true,
          
        "game": { ".validate": "root.child('games').child(newData.val()).exists()" }
      }
    },
      
    "items": {
      ".indexOn": "object",
      "$item": {
        ".read": true,
          
        "object": { ".validate": "root.child('objects').child(newData.val()).exists()" }
      }
    },
      
    "jobs": {
      ".indexOn": "object",
      "$job": {
        ".read": "data.child('object').val() === auth.uid",
        ".write": "!data.exists()",
        ".validate": "newData.child('object').val() === auth.uid"
      }
    }
  }
}